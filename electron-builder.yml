appId: com.docsanitizer.app
productName: DocSanitizer
copyright: Copyright Â© 2025

directories:
  output: release
  buildResources: resources

files:
  - dist/**/*
  - dist-electron/**/*
  - package.json
  - node_modules/**/*
  # Exclude unnecessary files to reduce bundle size
  - "!node_modules/**/*.map"
  - "!node_modules/**/*.ts"
  - "!node_modules/**/*.md"
  - "!node_modules/**/*.markdown"
  - "!node_modules/**/README*"
  - "!node_modules/**/CHANGELOG*"
  - "!node_modules/**/LICENSE*"
  - "!node_modules/**/license*"
  - "!node_modules/**/.github"
  - "!node_modules/**/.eslint*"
  - "!node_modules/**/.prettier*"
  - "!node_modules/**/test/**"
  - "!node_modules/**/tests/**"
  - "!node_modules/**/__tests__/**"
  # Exception: suffix-thumb imports its own test directory at runtime
  - "node_modules/suffix-thumb/src/test/**"
  - "!node_modules/**/spec/**"
  - "!node_modules/**/docs/**"
  - "!node_modules/**/example/**"
  - "!node_modules/**/examples/**"
  - "!node_modules/**/*.d.ts.map"
  - "!node_modules/**/tsconfig*.json"
  - "!node_modules/**/.travis.yml"
  - "!node_modules/**/.editorconfig"
  - "!node_modules/**/Makefile"
  - "!node_modules/**/Gruntfile.js"
  - "!node_modules/**/gulpfile.js"
  - "!node_modules/**/*.gyp"
  - "!node_modules/**/*.gypi"
  # Exclude dev-only packages that shouldn't be bundled
  - "!node_modules/electron/**"
  - "!node_modules/electron-builder/**"
  - "!node_modules/@electron/**"
  - "!node_modules/typescript/**"
  - "!node_modules/eslint/**"
  - "!node_modules/@typescript-eslint/**"
  - "!node_modules/playwright/**"
  - "!node_modules/playwright-core/**"
  - "!node_modules/@playwright/**"
  - "!node_modules/vite/**"
  - "!node_modules/@vitejs/**"
  - "!node_modules/tailwindcss/**"
  - "!node_modules/@tailwindcss/**"
  - "!node_modules/postcss/**"
  - "!node_modules/autoprefixer/**"
  - "!node_modules/lightningcss*/**"
  - "!node_modules/esbuild/**"
  - "!node_modules/@esbuild/**"
  - "!node_modules/app-builder-bin/**"

asarUnpack:
  - node_modules/tesseract.js/**/*
  - node_modules/tesseract.js-core/**/*

mac:
  category: public.app-category.productivity
  icon: resources/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  target:
    - target: zip
      arch:
        - x64
        - arm64

win:
  icon: resources/icon.ico
  target:
    - nsis
    - portable

linux:
  icon: resources/icon.png
  category: Office
  target:
    - AppImage
    - deb

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

extraResources:
  - from: node_modules/tesseract.js-core/tesseract-core.wasm.js
    to: tesseract-core.wasm.js
