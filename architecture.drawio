<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    
    <!-- Title -->
    <mxCell id="title" value="maskr - Application Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=20;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
      <mxGeometry x="250" y="10" width="300" height="30" as="geometry"/>
    </mxCell>
    
    <!-- React Renderer Box -->
    <mxCell id="renderer-box" value="React Renderer (Frontend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
      <mxGeometry x="40" y="60" width="320" height="280" as="geometry"/>
    </mxCell>
    
    <!-- App.tsx -->
    <mxCell id="app" value="App.tsx&#xa;(Step Navigation)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" vertex="1" parent="1">
      <mxGeometry x="140" y="90" width="120" height="40" as="geometry"/>
    </mxCell>
    
    <!-- Steps -->
    <mxCell id="upload" value="UploadStep" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=10;" vertex="1" parent="1">
      <mxGeometry x="60" y="160" width="80" height="35" as="geometry"/>
    </mxCell>
    <mxCell id="review" value="ReviewStep" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=10;" vertex="1" parent="1">
      <mxGeometry x="160" y="160" width="80" height="35" as="geometry"/>
    </mxCell>
    <mxCell id="export" value="ExportStep" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=10;" vertex="1" parent="1">
      <mxGeometry x="260" y="160" width="80" height="35" as="geometry"/>
    </mxCell>
    
    <!-- Zustand Store -->
    <mxCell id="store" value="Zustand Store&#xa;(State Management)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
      <mxGeometry x="120" y="220" width="160" height="40" as="geometry"/>
    </mxCell>
    
    <!-- UI Components -->
    <mxCell id="ui" value="shadcn/ui Components" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;fontSize=10;" vertex="1" parent="1">
      <mxGeometry x="120" y="280" width="160" height="30" as="geometry"/>
    </mxCell>
    
    <!-- Preload Bridge -->
    <mxCell id="preload" value="preload.ts&#xa;(IPC Bridge)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=11;" vertex="1" parent="1">
      <mxGeometry x="320" y="180" width="100" height="50" as="geometry"/>
    </mxCell>
    
    <!-- Electron Main Box -->
    <mxCell id="main-box" value="Electron Main Process (Backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=top;fontStyle=1;fontSize=12;" vertex="1" parent="1">
      <mxGeometry x="440" y="60" width="340" height="340" as="geometry"/>
    </mxCell>
    
    <!-- main.ts -->
    <mxCell id="main" value="main.ts&#xa;(IPC Handlers)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" vertex="1" parent="1">
      <mxGeometry x="540" y="90" width="120" height="40" as="geometry"/>
    </mxCell>
    
    <!-- Services -->
    <mxCell id="detector" value="detector.ts&#xa;PII Detection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="460" y="160" width="90" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="parser" value="document-parser.ts&#xa;File Parsing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="560" y="160" width="100" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="security" value="security.ts&#xa;Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="670" y="160" width="90" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="ocr" value="ocr.ts&#xa;Tesseract OCR" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="460" y="220" width="90" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="imagehash" value="image-hash.ts&#xa;Logo Detection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="560" y="220" width="100" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="profiles" value="profiles.ts&#xa;User Profiles" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="670" y="220" width="90" height="40" as="geometry"/>
    </mxCell>
    <mxCell id="logger" value="logger.ts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="560" y="280" width="100" height="30" as="geometry"/>
    </mxCell>
    
    <!-- External Libraries -->
    <mxCell id="libs-box" value="External Libraries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;verticalAlign=top;fontStyle=1;fontSize=11;" vertex="1" parent="1">
      <mxGeometry x="460" y="320" width="300" height="60" as="geometry"/>
    </mxCell>
    <mxCell id="libs" value="compromise (NLP) | mammoth (DOCX) | exceljs (XLSX) | pdfjs-dist (PDF) | tesseract.js (OCR)" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;" vertex="1" parent="1">
      <mxGeometry x="465" y="345" width="290" height="30" as="geometry"/>
    </mxCell>
    
    <!-- Arrows -->
    <!-- App to Steps -->
    <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#666666;" edge="1" parent="1" source="app" target="upload">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#666666;" edge="1" parent="1" source="app" target="review">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#666666;" edge="1" parent="1" source="app" target="export">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- Steps to Store -->
    <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="upload" target="store">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="review" target="store">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="export" target="store">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- Renderer to Preload -->
    <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;strokeColor=#d79b00;strokeWidth=2;" edge="1" parent="1" source="store" target="preload">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="300" y="240"/>
          <mxPoint x="300" y="205"/>
        </Array>
      </mxGeometry>
    </mxCell>
    
    <!-- Preload to Main -->
    <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;startArrow=classic;strokeColor=#d79b00;strokeWidth=2;" edge="1" parent="1" source="preload" target="main">
      <mxGeometry relative="1" as="geometry">
        <Array as="points">
          <mxPoint x="440" y="205"/>
          <mxPoint x="440" y="110"/>
        </Array>
      </mxGeometry>
    </mxCell>
    
    <!-- Main to Services -->
    <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#82b366;" edge="1" parent="1" source="main" target="detector">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#82b366;" edge="1" parent="1" source="main" target="parser">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;strokeColor=#82b366;" edge="1" parent="1" source="main" target="security">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- Legend -->
    <mxCell id="legend" value="IPC Communication" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#d79b00;" vertex="1" parent="1">
      <mxGeometry x="40" y="360" width="100" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="legend2" value="State Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#9673a6;" vertex="1" parent="1">
      <mxGeometry x="140" y="360" width="80" height="20" as="geometry"/>
    </mxCell>
    <mxCell id="legend3" value="Service Calls" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontColor=#82b366;" vertex="1" parent="1">
      <mxGeometry x="220" y="360" width="80" height="20" as="geometry"/>
    </mxCell>
    
  </root>
</mxGraphModel>